!function(){function t(e,n,r){function o(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n||t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}return t}()({1:[function(t,e,n){(function(n){"use strict";var r=t("./src/js/image").Image,o=t("component").createComponent;e.exports=o({name:"co-image",constructor:r,localizationTemplate:n("i18n/{lang}.json")}),t("rivets").components[e.exports.name]=e.exports}).call(this,function(e){var n=t("settings"),r=n.components,o="";return r.replace(new RegExp("/$"),o)+"/co-image/"+e.replace(new RegExp("^/"),o)})},{"./src/js/image":10,component:4,rivets:"rivets",settings:"settings"}],2:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){r(this,t),this.storage={}}return o(t,[{key:"set",value:function(t,e){this.storage[t]=e}},{key:"get",value:function(t){return this.storage[t]}},{key:"isCache",value:function(t){return Object.prototype.hasOwnProperty.call(this.storage,t)}}]),t}();e.exports=i},{}],3:[function(t,e,n){e.exports={localizationPath:"components/{name}/i18n/{lang}.json"}},{}],4:[function(t,e,n){"use strict";function r(t,e,n){c.components[t]=o(t,e,n)}function o(t,e,n){var r;"object"===("undefined"==typeof t?"undefined":u(t))?(r=t.name,e=t.constructor,n=t.localExtensions):r=t,e.prototype.localizationTemplate=t.localizationTemplate||h.localizationPath;var o={name:r,block:e.block,"static":i(e.prototype.defaults),template:e.prototype.template,constructor:e,initialize:function(t,n){var o=a.toCamelCaseObject(e.prototype.defaults),i=f(o,n,r),s=new e(t,i,this.view,this);return e.prototype.name=r,p.call(this,s,o,n.model||{}),s},unbind:function(){}};return n&&c._.extensions.forEach(function(t){var e=n[t];e&&(o[t]=e)}),o}function i(t){return Object.keys(t).filter(function(e){return s(t,e)}).map(function(t){return a.toCamelCase(t)})}function s(t,e){return t[e]&&t[e]["static"]}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=t("rivets"),a=t("utils"),l=t("./src/js/ComponentConstructor.js").ComponentConstructor,f=t("./src/js/buildModel.js"),p=t("./src/js/buildObservations.js"),h=t("./config.json");e.exports=r,e.exports.createComponent=o,e.exports.Component=l},{"./config.json":3,"./src/js/ComponentConstructor.js":5,"./src/js/buildModel.js":8,"./src/js/buildObservations.js":9,rivets:"rivets",utils:"utils"}],5:[function(t,e,n){"use strict";function r(t,e,n,r){this.element=t,this.parentScope=n.models,p.mixin(this,e),this.element.model=this,this.element.view={subscribe:l.bind(this)},this.element.setAttribute("co-component",""),this.model=e,this.view=n,this.binding=r,this.element.addEventListener("activate",i.bind(this)),this.element.addEventListener("deactivate",s.bind(this)),this.setIsConfigurable()}function o(t){var e=t.replace("co-","").split("-").join(" ");return e[0].toUpperCase()+e.substring(1,e.lenght)}function i(t){if("function"==typeof this.activate&&u(t)){var e=p.parse(this);this.activate(t.target),this.difference=p.difference(e,p.parse(this))}}function s(t){"function"==typeof this.deactivate&&u(t)&&this.deactivate(t.target),p.deepMixin(this,this.difference)}function u(t){return t.detail&&!!t.detail.isCobaltEvent}function c(t,e){return e=e||[],t&&"function"==typeof t.getKeypath&&(e.push(t.getKeypath()),c(t.parentScope,e)),e}function a(t){return t.getAttribute("user-label")}function l(t){var e=this;d.subscribeEvent(function(n){n.type===d.EventType.DOM_REFRESHED&&n.element===e.element&&t(e.element)})}var f="undefined"==typeof Promise?t("es6-promise").Promise:Promise,p=t("utils"),h=t("./buildKeypath.js"),m=t("./buildLocalization.js"),y=t("general-model"),d=t("dispatcher");r.prototype.isCommon=function(){return c(this).some(function(t){return p.startsWith(t,"m.common")})},r.prototype.getTextElementsByProperty=function(t){return p.toArray(this.element.querySelectorAll("[rv-html]")).filter(function(e){return e.getAttribute("rv-html")===t}).filter(function(t){return t.scope===this},this)},r.prototype.getLocalization=function(t){return m(this.__proto__.constructor,t)},r.prototype.getAbsoluteKeypath=function(){return h(this.parentScope,this.getKeypath())},r.prototype.getKeypath=function(){return this.element.getAttribute("model")||""},r.prototype.toJSON=function(){var t=this;return Object.keys(this).reduce(function(e,n){return t.model.hasOwnProperty(n)&&(e[n]=t[n]),e},{})},r.prototype.setIsConfigurable=function(){var t=this.getKeypath();Object.defineProperty(this,"isConfigurable",{value:p.startsWith(t,"m."),enumerable:!0,configurable:!1,writable:!0})},r.prototype.getLabel=function(t){return new f(function(e,n){var r=a(this.element);r?e(r):m(this.__proto__.constructor,t).then(function(t){e(t.name)})["catch"](function(t){e(o(this.name||this.element.tagName.toLowerCase()))}.bind(this))}.bind(this))},r.prototype.setLabel=function(t){this.element.setAttribute("user-label",t)},r.prototype.subscribe=function(t){return(new y.ModelNotifier).observe(this.model).subscribe(function(e){t(e)},!0)},n.ComponentConstructor=r},{"./buildKeypath.js":6,"./buildLocalization.js":7,dispatcher:"dispatcher","es6-promise":"es6-promise","general-model":"general-model",utils:"utils"}],6:[function(t,e,n){"use strict";function r(t,e){var n=s(e);return t?n?t+"."+s(e):t:e}function o(t,e){return e=e||[],t&&t.keypath&&(e.unshift(i(t),t.index),o(t.__proto__,e)),e}function i(t){return t.__proto__.keypath?s(t.keypath):t.keypath}function s(t){return t.split(".").slice(1).join(".")}e.exports=function(t,e){return r(o(t).join("."),e)}},{}],7:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n="en",r=e||n;return i(t,r,n).then(function(e){return a(e.defaults,t.prototype.defaults,r).then(function(){return e})})}function i(t,e,n){var r=s(t,e);return u(r).then(function(r){if(c(r))return r;if(e!==n){var o=s(t,n);return u(o)}return m.resolve({})})}function s(t,e){return(0,f.template)(t.prototype.localizationTemplate,{name:t.prototype.name,lang:e})}function u(t){var e=!0,n=null;return y.isCache(t)||y.set(t,(0,l.loadJSON)(t,n,e)),y.get(t)}function c(t){return t&&Object.keys(t).length}function a(t,e,n){var r=[],i=function(i){var s=e[i],u=void 0;if(s.sealed)return"continue";if(s.base)u=o(s.base,n).then(function(e){return t[i].defaults=e.defaults});else{if(!s.scheme)return"continue";u=a(t[i].defaults,s.scheme,n)}r.push(u)};for(var s in e){i(s)}return m.all(r)}var l=t("loader"),f=t("utils"),p=t("cache"),h=r(p),m="undefined"==typeof Promise?t("es6-promise").Promise:Promise,y=new h["default"];e.exports=o},{cache:2,"es6-promise":"es6-promise",loader:"loader",utils:"utils"}],8:[function(t,e,n){"use strict";function r(t,e,n){var r=s(t),i=a.toCamelCaseObject(e.model||{}),c=u(t,e),l=o(o(r,i,t),c,t);return l}function o(t,e,n){return Object.keys(e).forEach(function(r){e.hasOwnProperty(r)&&c(e[r])&&n.hasOwnProperty(r)&&(t[r]&&t[r].constructor===Object&&i(n[r].value,e[r]),t[r]=e[r])}),t}function i(t,e){return Object.keys(t).forEach(function(n){e.hasOwnProperty(n)||(e[n]=t[n])})}function s(t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n].value,e},{})}function u(t,e){return Object.keys(t).reduce(function(n,r){return e.hasOwnProperty(r)&&(t[r]&&t[r]["static"]?n[r]=a.revive(e[r]):n[r]=e[r]),n},{})}function c(t){return void 0!==t&&null!==t}var a=t("utils");e.exports=r},{utils:"utils"}],9:[function(t,e,n){"use strict";function r(t,e){setTimeout(function(){(new s.ModelNotifier).deepObserve(e,t).subscribe(function(n){e.refresh(t)},!0)},50)}function o(t,e){var n=u.indexOf(t[e].type)!==-1;return n?n:Array.isArray(t[e].type)}function i(t,e){return!!t[e].refresh}var s=t("general-model"),u=[Object,Array,DataView,"Object","Array","DataView"];e.exports=function(t,e,n){Object.keys(e).forEach(function(s){n[s]=t[s],i(e,s)&&o(e,s)&&r(s,t),this.observe(t,s,function(){i(e,s)&&t.refresh(s),t.model[s]=t[s],n[s]=t[s]}),this.observe(t.model,s,function(){t[s]=t.model[s]}),this.observe(n,s,function(){t[s]=n[s]})},this)}},{"general-model":"general-model"}],10:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Image=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=t("component"),a=t("settings"),l=r(a),f=n.Image=function(n){function r(){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return s(r,n),u(r,[{key:"template",value:function(){return t("../template.html")}},{key:"formatSrc",value:function(){return/\/common\//.test(this.src)?l["default"].media+this.src:this.src}},{key:"getBackgroundStyles",value:function(){return"background: url('"+this.formatSrc()+"') "+this.position+" no-repeat; background-size: "+this.size+";"}},{key:"defaults",get:function(){return{src:{value:e("../../media/images/default.png"),type:"File",fileTypes:["image"]},position:{value:"center center",values:["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"],type:String},size:{value:"contain",values:["contain","cover","100% 100%"],type:String}}}}]),r}(c.Component);n["default"]=f}).call(this,function(e){var n=t("settings"),r=n.components,o="";return r.replace(new RegExp("/$"),o)+"/co-image/src/js/"+e.replace(new RegExp("^/"),o)})},{"../template.html":11,component:4,settings:"settings"}],11:[function(t,e,n){e.exports='<div rv-style="getBackgroundStyles &lt; src position size" rv-show="src" co-image=""></div>'},{}]},{},[1]);