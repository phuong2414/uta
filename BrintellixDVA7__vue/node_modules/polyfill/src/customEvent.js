(function(){
	if(typeof window.CustomEvent !== "function"){
		window.CustomEvent = function(event, params){
			var evt = document.createEvent('CustomEvent');
			params = params || { bubbles: false, cancelable: false, detail: undefined };
			evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
			return evt;
		}
		window.CustomEvent.prototype = Object.create(Event.prototype);
	}
})();