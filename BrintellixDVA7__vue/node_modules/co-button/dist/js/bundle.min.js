!function(){function t(e,n,o){function r(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return r(n||t)},l,l.exports,t,e,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}return t}()({1:[function(t,e,n){(function(n){"use strict";var o=t("component").createComponent,r=t("./src/js/Button.js").Button;e.exports=o({name:"co-button",constructor:r,localizationTemplate:n("i18n/{lang}.json")}),t("rivets").components[e.exports.name]=e.exports}).call(this,function(e){var n=t("settings"),o=n.components;return o+"/co-button/"+e})},{"./src/js/Button.js":10,component:4,rivets:"rivets",settings:"settings"}],2:[function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function(){function t(){o(this,t),this.storage={}}return r(t,[{key:"set",value:function(t,e){this.storage[t]=e}},{key:"get",value:function(t){return this.storage[t]}},{key:"isCache",value:function(t){return Object.prototype.hasOwnProperty.call(this.storage,t)}}]),t}();e.exports=i},{}],3:[function(t,e,n){e.exports={localizationPath:"components/{name}/i18n/{lang}.json"}},{}],4:[function(t,e,n){"use strict";function o(t,e,n){a.components[t]=r(t,e,n)}function r(t,e,n){var o;"object"===("undefined"==typeof t?"undefined":u(t))?(o=t.name,e=t.constructor,n=t.localExtensions):o=t,e.prototype.localizationTemplate=t.localizationTemplate||h.localizationPath;var r={name:o,block:e.block,"static":i(e.prototype.defaults),template:e.prototype.template,constructor:e,initialize:function(t,n){var r=c.toCamelCaseObject(e.prototype.defaults),i=f(r,n,o),s=new e(t,i,this.view,this);return e.prototype.name=o,p.call(this,s,r,n.model||{}),s},unbind:function(){}};return n&&a._.extensions.forEach(function(t){var e=n[t];e&&(r[t]=e)}),r}function i(t){return Object.keys(t).filter(function(e){return s(t,e)}).map(function(t){return c.toCamelCase(t)})}function s(t,e){return t[e]&&t[e]["static"]}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=t("rivets"),c=t("utils"),l=t("./src/js/ComponentConstructor.js").ComponentConstructor,f=t("./src/js/buildModel.js"),p=t("./src/js/buildObservations.js"),h=t("./config.json");e.exports=o,e.exports.createComponent=r,e.exports.Component=l},{"./config.json":3,"./src/js/ComponentConstructor.js":5,"./src/js/buildModel.js":8,"./src/js/buildObservations.js":9,rivets:"rivets",utils:"utils"}],5:[function(t,e,n){"use strict";function o(t,e,n,o){this.element=t,this.parentScope=n.models,d.mixin(this,e),this.element.model=this,this.element.view={subscribe:h.bind(this)},this.element.setAttribute("co-component",""),this.model=e,this.view=n,this.binding=o,this.element.addEventListener("activate",i.bind(this)),this.element.addEventListener("deactivate",s.bind(this)),this.setIsConfigurable()}function r(t){var e=t.replace("co-","").split("-").join(" ");return e[0].toUpperCase()+e.substring(1,e.lenght)}function i(t){if("function"==typeof this.activate&&u(t)){var e=d.parse(this);this.activate(t.target),this.difference=d.difference(e,d.parse(this))}}function s(t){"function"==typeof this.deactivate&&u(t)&&this.deactivate(t.target),d.deepMixin(this,this.difference)}function u(t){return t.detail&&!!t.detail.isCobaltEvent}function a(t){return f(t).some(function(t){return l(t)})}function c(t){var e=t.element&&t.element.binders;return e&&Object.keys(e).some(function(t){return l(e[t].keypath)})}function l(t){return d.startsWith(t,"m.common")}function f(t,e){return e=e||[],t&&"function"==typeof t.getKeypath&&(e.push(t.getKeypath()),f(t.parentScope,e)),e}function p(t){return t.getAttribute("user-label")}function h(t){var e=this;g.subscribeEvent(function(n){n.type===g.EventType.DOM_REFRESHED&&n.element===e.element&&t(e.element)})}var v="undefined"==typeof Promise?t("es6-promise").Promise:Promise,d=t("utils"),m=t("./buildKeypath.js"),y=t("./buildLocalization.js"),b=t("general-model"),g=t("dispatcher");o.prototype.isCommon=function(){return a(this)||c(this)},o.prototype.getTextElementsByProperty=function(t){return d.toArray(this.element.querySelectorAll("[rv-html]")).filter(function(e){return e.getAttribute("rv-html")===t}).filter(function(t){return t.scope===this},this)},o.prototype.getLocalization=function(t){return y(this.__proto__.constructor,t)},o.prototype.getAbsoluteKeypath=function(){return m(this.parentScope,this.getKeypath())},o.prototype.getKeypath=function(){return this.element.getAttribute("model")||""},o.prototype.toJSON=function(){var t=this;return Object.keys(this).reduce(function(e,n){return t.model.hasOwnProperty(n)&&(e[n]=t[n]),e},{})},o.prototype.setIsConfigurable=function(){var t=this.getKeypath();Object.defineProperty(this,"isConfigurable",{value:d.startsWith(t,"m."),enumerable:!0,configurable:!1,writable:!0})},o.prototype.getLabel=function(t){return new v(function(e,n){var o=p(this.element);o?e(o):y(this.__proto__.constructor,t).then(function(t){e(t.name)})["catch"](function(t){e(r(this.name||this.element.tagName.toLowerCase()))}.bind(this))}.bind(this))},o.prototype.setLabel=function(t){this.element.setAttribute("user-label",t)},o.prototype.subscribe=function(t){return(new b.ModelNotifier).observe(this.model).subscribe(function(e){t(e)},!0)},n.ComponentConstructor=o},{"./buildKeypath.js":6,"./buildLocalization.js":7,dispatcher:"dispatcher","es6-promise":"es6-promise","general-model":"general-model",utils:"utils"}],6:[function(t,e,n){"use strict";function o(t,e){var n=s(e);return t?n?t+"."+s(e):t:e}function r(t,e){return e=e||[],t&&t.keypath&&(e.unshift(i(t),t.index),r(t.__proto__,e)),e}function i(t){return t.__proto__.keypath?s(t.keypath):t.keypath}function s(t){return t.split(".").slice(1).join(".")}e.exports=function(t,e){return o(r(t).join("."),e)}},{}],7:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n="en",o=e||n;return i(t,o,n).then(function(e){return c(e.defaults,t.prototype.defaults,o).then(function(){return e})})}function i(t,e,n){var o=s(t,e);return u(o).then(function(o){if(a(o))return o;if(e!==n){var r=s(t,n);return u(r)}return v.resolve({})})}function s(t,e){return(0,f.template)(t.prototype.localizationTemplate,{name:t.prototype.name,lang:e})}function u(t){var e=!0,n=null;return d.isCache(t)||d.set(t,(0,l.loadJSON)(t,n,e)),d.get(t)}function a(t){return t&&Object.keys(t).length}function c(t,e,n){var o=[],i=function(i){var s=e[i],u=void 0;if(s.sealed)return"continue";if(s.base)u=r(s.base,n).then(function(e){return t[i].defaults=e.defaults});else{if(!s.scheme)return"continue";u=c(t[i].defaults,s.scheme,n)}o.push(u)};for(var s in e){i(s)}return v.all(o)}var l=t("loader"),f=t("utils"),p=t("cache"),h=o(p),v="undefined"==typeof Promise?t("es6-promise").Promise:Promise,d=new h["default"];e.exports=r},{cache:2,"es6-promise":"es6-promise",loader:"loader",utils:"utils"}],8:[function(t,e,n){"use strict";function o(t,e,n){var o=s(t),i=c.toCamelCaseObject(e.model||{}),a=u(t,e),l=r(r(o,i,t),a,t);return l}function r(t,e,n){return Object.keys(e).forEach(function(o){e.hasOwnProperty(o)&&a(e[o])&&n.hasOwnProperty(o)&&(t[o]&&t[o].constructor===Object&&i(n[o].value,e[o]),t[o]=e[o])}),t}function i(t,e){return Object.keys(t).forEach(function(n){e.hasOwnProperty(n)||(e[n]=t[n])})}function s(t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n].value,e},{})}function u(t,e){return Object.keys(t).reduce(function(n,o){return e.hasOwnProperty(o)&&(t[o]&&t[o]["static"]?n[o]=c.revive(e[o]):n[o]=e[o]),n},{})}function a(t){return void 0!==t&&null!==t}var c=t("utils");e.exports=o},{utils:"utils"}],9:[function(t,e,n){"use strict";function o(t,e){setTimeout(function(){(new s.ModelNotifier).deepObserve(e,t).subscribe(function(n){e.refresh(t)},!0)},50)}function r(t,e){var n=u.indexOf(t[e].type)!==-1;return n?n:Array.isArray(t[e].type)}function i(t,e){return!!t[e].refresh}var s=t("general-model"),u=[Object,Array,DataView,"Object","Array","DataView"];e.exports=function(t,e,n){Object.keys(e).forEach(function(s){n[s]=t[s],i(e,s)&&r(e,s)&&o(s,t),this.observe(t,s,function(){i(e,s)&&t.refresh(s),t.model[s]=t[s],n[s]=t[s]}),this.observe(t.model,s,function(){t[s]=t.model[s]}),this.observe(n,s,function(){t[s]=n[s]})},this)}},{"general-model":"general-model"}],10:[function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Button=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=t("component"),l=t("nav"),f=r(l),p=t("touch"),h=t("utils"),v=o(h);n.Button=function(e){function n(){i(this,n);var t=s(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return t.element.addEventListener(p.events.start,t),t.element.addEventListener("tap",t),Object.keys(t.defaults).forEach(function(e){t.defaults[e].refresh&&t.refresh(e)}),f["default"].onleave(function(){t.active=!1}),t}return u(n,e),a(n,[{key:"handleEvent",value:function(t){if(!this.disabled)switch(t.type){case"tap":this.toggles&&this.toggle();break;case p.events.start:this.press(),this.toggles||this.activateButton(),document.addEventListener(p.events.end,this,!0);break;case p.events.end:this.release(),this.toggles||this.deactivateButton(),document.removeEventListener(p.events.end,this,!0)}}},{key:"activateButton",value:function(){this.active=!0}},{key:"deactivateButton",value:function(){this.active=!1}},{key:"press",value:function(){this.pressed=!0,v.dispatchEvent(this.element,"press")}},{key:"release",value:function(){this.pressed=!1,v.dispatchEvent(this.element,"release")}},{key:"toggle",value:function(){this.active=!this.active,v.dispatchEvent(this.element,"toggle")}},{key:"dispatchActiveState",value:function(){this.notInitialActivation&&v.dispatchEvent(this.element,this.active?"activatebutton":"deactivatebutton"),this.notInitialActivation=!0}},{key:"toggleOff",value:function(){!this.toggles&&this.active&&(this.deactivateButton(),v.dispatchEvent(this.element,"toggle"))}},{key:"template",value:function(){return t("../template.html")}},{key:"refresh",value:function(t){var e=this[t]?"add":"remove";this.element.classList[e](t),"toggles"===t?this.toggleOff():"active"===t&&this.dispatchActiveState()}},{key:"defaults",get:function(){return{toggles:{type:Boolean,value:!1},active:{type:Boolean,value:!1,refresh:!0},pressed:{type:Boolean,value:!1,refresh:!0},shadow:{type:Boolean,value:!1,refresh:!0},disabled:{type:Boolean,value:!1,refresh:!0}}}}]),n}(c.Component)},{"../template.html":11,component:4,nav:"nav",touch:"touch",utils:"utils"}],11:[function(t,e,n){e.exports='<content co-button=""></content>'},{}]},{},[1]);