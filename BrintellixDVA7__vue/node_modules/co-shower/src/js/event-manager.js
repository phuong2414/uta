export class EventManager{
	constructor(handler){
		this.handler = handler.bind(handler);
		this.events = [];
	}
	updateListeners(events){
		this.removeUnusedListeners(events);
		this.addListeners(events);
	}
	addListeners(newEvents){
		newEvents.forEach(newEvent => {
			if(this.events.indexOf(newEvent) < 0){
				document.addEventListener(newEvent, this.handler);
				this.events.push(newEvent);
			}
		});
	}
	removeUnusedListeners(newEvents){
		this.events = this.events
			.filter(event => {
				if(newEvents.indexOf(event) < 0){
					document.removeEventListener(event, this.handler);
					return false;
				}
				return true;
			});
	}
}	