// in MPA (viseven - structure) params are read from slide frame

var targetWindow = window.isSPA ? window : parent,
	search = targetWindow.location.search,
	params = {};

search && search.slice(1).split("&").forEach(function(pair){
	pair = pair.split("=");
	params[pair[0]] = getTypedValue(decodeURIComponent(pair[1]));
});

function getTypedValue(str){
	try{
		return JSON.parse(str);
	}catch(e){
		return str;
	}
}

module.exports = params;